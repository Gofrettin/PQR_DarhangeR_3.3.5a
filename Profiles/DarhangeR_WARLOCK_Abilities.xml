<?xml version="1.0" encoding="utf-8" ?><WARLOCK><Ability><Name>-- Start Fight --</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if StopRota
or IsMounted()
or UnitInVehicle(&amp;quot;player&amp;quot;)
or UnitIsDeadOrGhost(&amp;quot;target&amp;quot;) 
or UnitIsDeadOrGhost(&amp;quot;player&amp;quot;)
or UnitChannelInfo(&amp;quot;player&amp;quot;) ~= nil
or UnitCastingInfo(&amp;quot;player&amp;quot;) ~= nil
or UnitBuff(&amp;quot;target&amp;quot;, 59301)
or UnitBuff(&amp;quot;player&amp;quot;, GetSpellInfo(430))
or UnitBuff(&amp;quot;player&amp;quot;, GetSpellInfo(433))
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Custom</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>-- Offensive Spells --</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>local buff = { 642, 45438, 31224, 23920, 33786, 19263, 21892, 40733 }
local mob = { &amp;quot;Training Dummy&amp;quot;, &amp;quot;Raider&amp;apos;s Training Dummy&amp;quot; }
local elite = {  }
local ward = { }
local noaggromobs = nil
local immunity = nil
local eliteboss = nil
local warding = nil

for i,v in ipairs(buff) do
  if UnitBuffID(&amp;quot;target&amp;quot;,v) then immunity = 1 end
end

for i,v in ipairs(mob) do
  if UnitName(&amp;quot;target&amp;quot;) == v then noaggromobs = 1 end
end

for i,v in ipairs(ward) do
  if UnitName(&amp;quot;target&amp;quot;) == v then warding = 1 end
end

SWard = nil
function SWard()
	if UnitExists(&amp;quot;target&amp;quot;)
	and warding
	then return 
		true 
	end
end

if immunity
or UnitCanAttack(&amp;quot;player&amp;quot;,&amp;quot;target&amp;quot;) == nil
or (UnitAffectingCombat(&amp;quot;target&amp;quot;) == nil and noaggromobs == nil and UnitIsPlayer(&amp;quot;target&amp;quot;) == nil)
or tonumber(UnitGUID(&amp;quot;target&amp;quot;):sub(5,5),16) == 4
then return true end

for i,v in ipairs(elite) do
	  if UnitName(&amp;quot;target&amp;quot;) == v then eliteboss = 1 end
	end

IsBoss = nil
function IsBoss()
	if UnitExists(&amp;quot;target&amp;quot;)
	and ( UnitLevel(&amp;quot;target&amp;quot;) == -1 or eliteboss )
	or tonumber(UnitGUID(&amp;quot;target&amp;quot;):sub(5,5),16) == 4
		then return 
			true 
		end
	end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>True</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>-- All:Mouseover --</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if UnitAffectingCombat(&amp;quot;player&amp;quot;) and IsMouseButtonDown()
	then RunMacroText(&amp;quot;/click &amp;quot;..GetMouseFocus():GetName()) end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Use:Trinkets/Hands</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>local _,cd,havecd = GetInventoryItemCooldown(&amp;quot;player&amp;quot;,13)

if cd == 0 and havecd == 1
and IsBoss()
and CanAttack()
and rangeCheck(47809, &amp;quot;target&amp;quot;)
then 
  UseInventoryItem(13)
  return true
end

local _,cd,havecd = GetInventoryItemCooldown(&amp;quot;player&amp;quot;,14)

if cd == 0 and havecd == 1
and IsBoss()
and CanAttack()
and rangeCheck(47809, &amp;quot;target&amp;quot;)
then 
  UseInventoryItem(14)
  return true
end

local _,cd,havecd = GetInventoryItemCooldown(&amp;quot;player&amp;quot;,10)

if cd == 0 and havecd == 1
and IsBoss()
and CanAttack()
and rangeCheck(47809, &amp;quot;target&amp;quot;)
then 
  UseInventoryItem(10)
  return true
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>All:Use Firestone</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>local _,enchant,_,_,_,_,_,_ = GetWeaponEnchantInfo()

if enchant == nil
and inCombat() == nil
and PQR_IsCastingSpell(55158) == false
and GetItemCount(&amp;quot;41174&amp;quot;) &amp;gt;= 1
and pStay()
then
    UseItemByName(&amp;quot;41174&amp;quot;,&amp;quot;player&amp;quot;) 
    if SpellIsTargeting() then PickupInventoryItem(16) end
end</Lua><RecastDelay>0</RecastDelay><Target>Player</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>All:Create Firestone</Name><Default>false</Default><SpellID>60220</SpellID><Actions></Actions><Lua>if GetItemCount(41174) == 0
and pStay()
and inCombat() == nil
and (GetSpellInfo(60220) or GetItemCount(6265) &amp;gt;= 1)
and PQR_IsCastingSpell(60220) == false
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Player</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>All:Fel Armor</Name><Default>false</Default><SpellID>47893</SpellID><Actions></Actions><Lua>if not felarmor
and not UnitIsDeadOrGhost(&amp;quot;player&amp;quot;)
and not IsMounted()
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Player</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Dem:Summon Imp</Name><Default>false</Default><SpellID>688</SpellID><Actions></Actions><Lua>if UnitExists(&amp;quot;pet&amp;quot;) == nil
and not UnitBuffID(&amp;quot;player&amp;quot;, 61431)
and PQR_IsCastingSpell(688) == false
and pStay()
then 
	if IsSpellKnown(18708) then
	CastSpellByID(18708)
	end
return true end</Lua><RecastDelay>0</RecastDelay><Target>Pet</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Af:Unstable Affliction</Name><Default>false</Default><SpellID>47843</SpellID><Actions></Actions><Lua>local ua, _, _, _, _, _, uatime = UnitDebuffID(&amp;quot;target&amp;quot;, 47843, &amp;quot;player&amp;quot;) 

if ( ua == nil or ( ua and uatime - GetTime() &amp;lt; 2.5 ) )
and CanAttack()
and pStay()
and rangeCheck(47843, &amp;quot;target&amp;quot;)
then return true end</Lua><RecastDelay>450</RecastDelay><Target>Target</Target><CancelChannel>True</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>All:Death Coil</Name><Default>false</Default><SpellID>47860</SpellID><Actions></Actions><Lua>if getHp(&amp;quot;player&amp;quot;) &amp;lt;= 50
and CanAttack()
and rangeCheck(47860, &amp;quot;target&amp;quot;)
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>True</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>All:Life Tap</Name><Default>false</Default><SpellID>57946</SpellID><Actions></Actions><Lua>if getMana(&amp;quot;player&amp;quot;) &amp;lt;= 20
and getHp(&amp;quot;player&amp;quot;) &amp;gt;= 50
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Player</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Af:Curse of Doom</Name><Default>false</Default><SpellID>47867</SpellID><Actions></Actions><Lua>if ((CotE and not elem) or eplag or earmoon)
and not doom
and IsBoss()
and CanAttack()
and rangeCheck(47867, &amp;quot;target&amp;quot;)
and UnitChannelInfo(&amp;quot;player&amp;quot;) == nil
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Dest:Immolate</Name><Default>false</Default><SpellID>47811</SpellID><Actions></Actions><Lua>local immolate, _, _, _, _, _, immolatetime = UnitDebuffID(&amp;quot;target&amp;quot;, 47811, &amp;quot;player&amp;quot;) 

if ( immolate == nil or ( immolate and immolatetime - GetTime() &amp;lt; 2.5 ) )
and rangeCheck(47811, &amp;quot;target&amp;quot;)
and pStay()
and CanAttack()
and PQR_IsCastingSpell(47811) == false
and UnitChannelInfo(&amp;quot;player&amp;quot;) == nil
then return true end</Lua><RecastDelay>450</RecastDelay><Target>Target</Target><CancelChannel>True</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Dest:Chaos Bolt</Name><Default>false</Default><SpellID>59172</SpellID><Actions></Actions><Lua>if CanAttack()
and ( immolate or ua )
and not CooldownRemains(59172)
and rangeCheck(59172, &amp;quot;target&amp;quot;)
and pStay()
and PQR_IsCastingSpell(47838) == false
and UnitChannelInfo(&amp;quot;player&amp;quot;) == nil
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>True</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Dest:Conflagrate</Name><Default>false</Default><SpellID>17962</SpellID><Actions></Actions><Lua>if (immolate or sflame)
and CanAttack()
and not CooldownRemains(17962)
and rangeCheck(17962, &amp;quot;target&amp;quot;)
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>True</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Dest:Incinerate</Name><Default>false</Default><SpellID>47838</SpellID><Actions></Actions><Lua>if immolate
and CanAttack()
and rangeCheck(47838, &amp;quot;target&amp;quot;)
and ( pStay() or backlash )
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Af:Curse of the Elements</Name><Default>false</Default><SpellID>47865</SpellID><Actions></Actions><Lua>if IsBoss()
and not elem
and CanAttack()
and rangeCheck(47865, &amp;quot;target&amp;quot;)
and UnitChannelInfo(&amp;quot;player&amp;quot;) == nil
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>True</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Af:Curse of Agony</Name><Default>false</Default><SpellID>47864</SpellID><Actions></Actions><Lua>if not elem
and not doom
and not agony
and CanAttack()
and rangeCheck(47864, &amp;quot;target&amp;quot;)
and UnitChannelInfo(&amp;quot;player&amp;quot;) == nil
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>True</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Af:Haunt</Name><Default>false</Default><SpellID>59164</SpellID><Actions></Actions><Lua>local haunt, _, _, _, _, _, htime = UnitDebuffID(&amp;quot;target&amp;quot;, 59164, &amp;quot;player&amp;quot;)

if ( haunt == nil or ( haunt and htime - GetTime() &amp;lt; 1.8 ) )
and not CooldownRemains(59164)
and CanAttack()
and pStay()
and rangeCheck(59164, &amp;quot;target&amp;quot;)
and UnitChannelInfo(&amp;quot;player&amp;quot;) == nil
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>True</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Dem:Soul Fire</Name><Default>false</Default><SpellID>47825</SpellID><Actions></Actions><Lua>if immolate 
and CanAttack()
and rangeCheck(47825, &amp;quot;target&amp;quot;)
and pStay()
and PQR_IsCastingSpell(47825) == false
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Af:Shadow Bolt</Name><Default>false</Default><SpellID>47809</SpellID><Actions></Actions><Lua>if CanAttack()
and rangeCheck(47809, &amp;quot;target&amp;quot;)
and pStay()
and PQR_IsCastingSpell(47809) == false
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Af:Shadow Bolt (Debuff)</Name><Default>false</Default><SpellID>47809</SpellID><Actions></Actions><Lua>if not ( sbolt or scorch)
and CanAttack()
and pStay()
and rangeCheck(47809, &amp;quot;target&amp;quot;)
then return true end</Lua><RecastDelay>1700</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Af:Drain Soul</Name><Default>false</Default><SpellID>47855</SpellID><Actions></Actions><Lua>local ds, _, _, _, _, _, dstime = UnitDebuffID(&amp;quot;target&amp;quot;, 47855, &amp;quot;player&amp;quot;)

if getHp(&amp;quot;target&amp;quot;) &amp;lt;= 25
and (ds == nil or (ds and dstime - GetTime() &amp;lt; 2.1) )
and pStay()
and CanAttack()
and rangeCheck(47855, &amp;quot;target&amp;quot;)
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>True</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>All:Life Tap (Buff)</Name><Default>false</Default><SpellID>57946</SpellID><Actions></Actions><Lua>if not lifetap
and glyph(63320)
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Player</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>All:Seed of Corruption</Name><Default>false</Default><SpellID>47836</SpellID><Actions></Actions><Lua>if not seed
and CanAttack()
and rangeCheck(47836, &amp;quot;target&amp;quot;)
and PQR_IsCastingSpell(47836) == false
and pStay()
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>All:Soulshatter</Name><Default>false</Default><SpellID>29858</SpellID><Actions></Actions><Lua>if partyCheck() 
and threat(&amp;quot;player&amp;quot;) &amp;gt;= 2
and not CooldownRemains(29858)
and (GetSpellInfo(29858) or GetItemCount(6265) &amp;gt;= 1)
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Player</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>All:Use Spellstone</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>local _,enchant,_,_,_,_,_,_ = GetWeaponEnchantInfo()

if enchant == nil
and inCombat() == nil
and PQR_IsCastingSpell(55194) == false
and GetItemCount(41196) &amp;gt;= 1
and pStay()
then
    UseItemByName(&amp;quot;41196&amp;quot;,&amp;quot;player&amp;quot;) 
    if SpellIsTargeting() then PickupInventoryItem(16) end
end</Lua><RecastDelay>0</RecastDelay><Target>Player</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>All:Create Spellstone</Name><Default>false</Default><SpellID>47888</SpellID><Actions></Actions><Lua>if GetItemCount(41196) == 0
and pStay()
and inCombat() == nil
and (GetSpellInfo(47888) or GetItemCount(6265) &amp;gt;= 1)
and PQR_IsCastingSpell(47888) == false
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Player</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Af:Corruption</Name><Default>false</Default><SpellID>47813</SpellID><Actions></Actions><Lua>if not corruption
and CanAttack()
and rangeCheck(47813, &amp;quot;target&amp;quot;)
and UnitChannelInfo(&amp;quot;player&amp;quot;) == nil
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>True</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Dem:Immolation Aura</Name><Default>false</Default><SpellID>50589</SpellID><Actions></Actions><Lua>if CheckInteractDistance(&amp;quot;target&amp;quot;, 3)
and meta
and IsBoss()
and CanAttack()
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Dem:Metamorphosis</Name><Default>false</Default><SpellID>47241</SpellID><Actions></Actions><Lua>if IsBoss()
and CanAttack()
and corruption
and (ua or immolate)
and rangeCheck(47838, &amp;quot;target&amp;quot;)
and not CooldownRemains(47241)
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Dest:Shadowburn</Name><Default>false</Default><SpellID>47827</SpellID><Actions></Actions><Lua>if pMove()
and (GetSpellInfo(60220) or GetItemCount(6265) &amp;gt;= 1)
and CanAttack()
and rangeCheck(47827, &amp;quot;target&amp;quot;)
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>True</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Dem:Incinerate</Name><Default>false</Default><SpellID>47838</SpellID><Actions></Actions><Lua>if moltencore
and immolate
and getHp(&amp;quot;target&amp;quot;) &amp;gt; 35
and CanAttack()
and usable(47838)
and pStay()
and rangeCheck(47838, &amp;quot;target&amp;quot;)
then return true end</Lua><RecastDelay>35</RecastDelay><Target>Target</Target><CancelChannel>True</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Dem:Soul Link</Name><Default>false</Default><SpellID>19028</SpellID><Actions></Actions><Lua>if IsSpellKnown(19028)
and UnitExists(&amp;quot;pet&amp;quot;) 
and not soullink
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Player</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Dem:Demonic Empowerment</Name><Default>false</Default><SpellID>47193</SpellID><Actions></Actions><Lua>if IsBoss()
and CanAttack()
and UnitExists(&amp;quot;pet&amp;quot;)
and rangeCheck(47838, &amp;quot;target&amp;quot;)
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Af:Shadow Bolt (Non Cast)</Name><Default>false</Default><SpellID>47809</SpellID><Actions></Actions><Lua>if (nightfall or backlash)
and CanAttack()
and rangeCheck(47809, &amp;quot;target&amp;quot;)
and PQR_IsCastingSpell(47809) == false
then return true end</Lua><RecastDelay>1250</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Dest:Shadowfury</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if IsLeftAltKeyDown() 
and not GetCurrentKeyBoardFocus() 
and not UnitChannelInfo(&amp;quot;player&amp;quot;) 
then
  CastSpellByID(47847)
  if SpellIsTargeting() then CameraOrSelectOrMoveStart() CameraOrSelectOrMoveStop() end  
  return true
end</Lua><RecastDelay>500</RecastDelay><Target>Click</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Af:Sead of Corruption (AOE)</Name><Default>false</Default><SpellID>47836</SpellID><Actions></Actions><Lua>if SoC == true
and CanAttack()
and pStay()
and rangeCheck(47836, &amp;quot;target&amp;quot;)
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Dem:Shadow Cleave</Name><Default>false</Default><SpellID>50581</SpellID><Actions></Actions><Lua>if IsItemInRange(37727, &amp;quot;target&amp;quot;) == 1
and not CooldownRemains(50581)
and meta
and CanAttack()
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Dem:Demon Charge</Name><Default>false</Default><SpellID>54785</SpellID><Actions></Actions><Lua>if meta
and IsBoss()
and CanAttack()
and rangeCheck(54785, &amp;quot;target&amp;quot;)
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>All:Demon Armor</Name><Default>false</Default><SpellID>47889</SpellID><Actions></Actions><Lua>if not demonarmor
and not UnitIsDeadOrGhost(&amp;quot;player&amp;quot;)
and not IsMounted()
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Player</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>-- DarhangeR --</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>-- I&amp;apos;m the original developer of dat profiles. Any changes, copying or sharing without my knowledge direct copyright infringement. For more info: 
-- Discord: https://discord.com/users/250267265285488641</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>-- Function --</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if not functionsloaded then

		-- Party Check -- 
	partyCheck = function()
		if GetNumRaidMembers() &amp;gt; 0 
		or GetNumPartyMembers() &amp;gt; 0 then
			return true
		else
			return false
		end
	end

		-- Glyph Check -- 
	glyph = function(glyphID)
        local hasglyph = false;
        local i = 1;
        local glyph = GetGlyphSocketInfo(i);
        while glyph do
            local id = select(3, GetGlyphSocketInfo(i));
            if id == glyphID then
                hasglyph = true;
                break;
            end
            i = i + 1;
            glyph = GetGlyphSocketInfo(i);
        end
        return hasglyph;
    end
	
		-- Check target --
	function CanAttack()
	if UnitExists(&amp;quot;target&amp;quot;)
	and UnitCanAttack(&amp;quot;player&amp;quot;, &amp;quot;target&amp;quot;) == 1
		then
			return true
		end
	end
		
		-- Check if player move --
	function pMove()
	if GetUnitSpeed(&amp;quot;player&amp;quot;) ~= 0
		then
			return true
		end
	end
	
		-- Check if player stay --
	function pStay()
	if GetUnitSpeed(&amp;quot;player&amp;quot;) == 0
		then
			return true
		end
	end
		
		-- Combat Check --
	function inCombat()
	if UnitAffectingCombat(&amp;quot;player&amp;quot;) ~= nil
		then
			return true
		end
	end
	
		-- Get HP simple --
	function getHp(unit)
	if UnitExists(unit) ~= nil
		then
			return 100 * UnitHealth(unit) / UnitHealthMax(unit)
		end
	end
	
		-- Get Mana simple --
	function getMana(unit)
	if UnitExists(unit) ~= nil
		then
			return 100 * UnitPower(unit) / UnitPowerMax(unit)
		end
	end
	
		-- Calculate HP simple --
	function CalculateHP(t)
	local ActualWithIncoming = 100 * UnitHealth(t) / UnitHealthMax(t)
		if ActualWithIncoming then
			return ActualWithIncoming
		else
			return 100
		end
	end
		
		-- Calculate HP simple --
	function gcd()
	local _, d = GetSpellCooldown(61304)
		if (d ~= 0) then
			return true
		else
			return false
		end
	end	
		
		-- Spell Cooldown remaining check --
	CooldownRemains = nil
	function CooldownRemains(spell)
		local start, duration, enable = GetSpellCooldown(spell)
		if ( start &amp;gt; 0 and duration &amp;gt; 1.5 ) 
		and not gcd() then
			return start + duration - GetTime()
		else
			return false
		end
	end

		-- Item Cooldown remaining check --
	ItemCooldownRemains = nil
	function ItemCooldownRemains(item)
		local start, duration, enable = GetItemCooldown(item)
		if ( start &amp;gt; 0 and duration &amp;gt; 1.5 ) then
			return start + duration - GetTime()
		else
			return false
		end
	end
	
		-- Range Check Simple --
	function rangeCheck(spellid,unit)
	if IsSpellInRange(GetSpellInfo(spellid),unit) == 1
	and not gcd()
	then
		return true
		end
	end
	
		-- Threat --
	function threat(t)
	if UnitExists(t)
		and UnitThreatSituation(t) ~= nil then
			return UnitThreatSituation(t)
		else
			return 0
		end
	end

		-- Validator --
	valid = nil
	function valid(t, spellid)
		if UnitExists(t)
		 and not UnitIsDeadOrGhost(t)
		 and UnitCanAttack(&amp;quot;player&amp;quot;, t) == 1
		 and UnitDebuffID(&amp;quot;target&amp;quot;, 33786) == nil
		 and IsUsableSpell(GetSpellInfo(spellid)) == 1
		 and IsSpellInRange(GetSpellInfo(spellid), t) == 1
		 then
			return true
		else
			return false
		end
	end
	
	message(&amp;quot;Project closed!\nUsing this tool may cause ban!\nVisit https://darhanger.github.io/rotations/&amp;quot;);
	
	if view == nil then 
	view = true
		local eventframe = CreateFrame(&amp;quot;FRAME&amp;quot;)
		DEFAULT_CHAT_FRAME:AddMessage(&amp;quot;\124cffffffff\124Hitem:37727:0:0:0:0:0:0:0:0:0:0\124h[Ruby Acorn]\124h\124r&amp;quot;);
		print(&amp;quot;\124cFF8787EDPlease click on the item above!&amp;quot;)
		print(&amp;quot;\124cFF8787EDПожалуйста жмакните по линку предмета выше!&amp;quot;)
	eventframe:RegisterEvent(&amp;quot;EXECUTE_CHAT_LINE&amp;quot;)	
	end
	
functionsloaded = true
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>-- All:Racial --</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>local debuff = { 6215, 8122, 5484, 2637, 5246, 6358 }
local hracial = { 33697, 20572, 33702, 26297 }
local alracial = { 20594, 28880 }
local hrace = { &amp;quot;Troll&amp;quot;, &amp;quot;Orc&amp;quot; }
local alrace = { &amp;quot;Dwarf&amp;quot;, &amp;quot;Draenei&amp;quot; }
local myrace = UnitRace(&amp;quot;player&amp;quot;)

	-- Undead --
for i = 1, #debuff do
  if UnitDebuffID(&amp;quot;player&amp;quot;,debuff[i])
   and UnitRace(&amp;quot;player&amp;quot;) == &amp;quot;Undead&amp;quot; 
   and IsSpellKnown(7744) 
   and not CooldownRemains(7744)
   and CanAttack() then
    CastSpellByID(7744)
    return true
  end
end

	-- Horde race --
if IsBoss()
 and CanAttack()
 and tContains(hrace, UnitRace(&amp;quot;player&amp;quot;)) then
  for i = 1, #hracial do
    if IsSpellKnown(hracial[i]) 
     and not CooldownRemains(hracial[i]) then 
      CastSpellByID(hracial[i])
      return true
    end
  end
end

	-- Ally race -- 
if CanAttack() 
and getHp(&amp;quot;player&amp;quot;) &amp;lt;= 35 
and tContains(alrace, UnitRace(&amp;quot;player&amp;quot;)) then
  for i = 1, #alracial do
    if IsSpellKnown(alracial[i]) 
     and not CooldownRemains(alracial[i]) then
      CastSpellByID(alracial[i])
      return true
    end
  end
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>True</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Dem:Summon Voidwalker</Name><Default>false</Default><SpellID>697</SpellID><Actions></Actions><Lua>if UnitExists(&amp;quot;pet&amp;quot;) == nil
and not UnitBuffID(&amp;quot;player&amp;quot;, 61431)
and PQR_IsCastingSpell(697) == false
and (GetSpellInfo(697) or GetItemCount(6265) &amp;gt;= 1)
and pStay()
then 
	if IsSpellKnown(18708) then
	CastSpellByID(18708)
	end
return true end</Lua><RecastDelay>0</RecastDelay><Target>Pet</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Dem:Summon Felhunter</Name><Default>false</Default><SpellID>691</SpellID><Actions></Actions><Lua>if UnitExists(&amp;quot;pet&amp;quot;) == nil
and not UnitBuffID(&amp;quot;player&amp;quot;, 61431)
and PQR_IsCastingSpell(691) == false
and (GetSpellInfo(691) or GetItemCount(6265) &amp;gt;= 1)
and pStay()
then 
	if IsSpellKnown(18708) then
	CastSpellByID(18708)
	end
return true end</Lua><RecastDelay>0</RecastDelay><Target>Pet</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Dem:Summon Succubus</Name><Default>false</Default><SpellID>712</SpellID><Actions></Actions><Lua>if UnitExists(&amp;quot;pet&amp;quot;) == nil
and not UnitBuffID(&amp;quot;player&amp;quot;, 61431)
and PQR_IsCastingSpell(712) == false
and (GetSpellInfo(712) or GetItemCount(6265) &amp;gt;= 1)
and pStay()
then 
	if IsSpellKnown(18708) then
	CastSpellByID(18708)
	end
return true end</Lua><RecastDelay>0</RecastDelay><Target>Pet</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Dem:Summon Felguard</Name><Default>false</Default><SpellID>30146</SpellID><Actions></Actions><Lua>if UnitExists(&amp;quot;pet&amp;quot;) == nil
and not UnitBuffID(&amp;quot;player&amp;quot;, 61431)
and PQR_IsCastingSpell(30146) == false
and (GetSpellInfo(30146) or GetItemCount(6265) &amp;gt;= 1)
and pStay()
then 
	if IsSpellKnown(18708) then
	CastSpellByID(18708)
	end
return true end</Lua><RecastDelay>0</RecastDelay><Target>Pet</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>-- Hotkeys --</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if not leftkeydown then leftkeydown = 0 end

if modtime == nil then
	modtime = 0
end

if IsLeftControlKeyDown()  and GetTime() - leftkeydown &amp;gt; 1 then
	leftkeydown = GetTime()
  	if StopRota then
		StopRota = false 
		PQR_WriteToChat(&amp;quot;Rotation \124cFF15E615reenabled!&amp;quot;)
  	else 
		StopRota = true 
		PQR_WriteToChat(&amp;quot;Rotation \124cFFE61515stopped!&amp;quot;)
  	end
end

if not rightkeydown then rightkeydown = 0 end

if modtime == nil then
	modtime = 0
end

if IsRightShiftKeyDown() and not GetCurrentKeyBoardFocus() and GetTime() - modtime &amp;gt; 0.3 then
	modtime = GetTime()
	if SoC then
		SoC = false
		PQR_WriteToChat(&amp;quot;Seed of Corruption \124cFFE61515Disabled&amp;quot;)
	else
		SoC = true
		PQR_WriteToChat(&amp;quot;Seed of Corruption \124cFF15E615Enabled&amp;quot;)
	end
end

if not rightkeydown then rightkeydown = 0 end

if modtime == nil then
	modtime = 0
end

if IsRightAltKeyDown() and not GetCurrentKeyBoardFocus() and GetTime() - modtime &amp;gt; 0.3 then
	modtime = GetTime()
	if RoF then
		RoF = false
		PQR_WriteToChat(&amp;quot;Rain of Fire \124cFFE61515Disabled&amp;quot;)
	else
		RoF = true
		PQR_WriteToChat(&amp;quot;Rain of Fire \124cFF15E615Enabled&amp;quot;)
	end
end</Lua><RecastDelay>0</RecastDelay><Target>Click</Target><CancelChannel>True</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Dest:Rain of Fire</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if RoF == true
and pStay()
and UnitChannelInfo(&amp;quot;player&amp;quot;) == nil
then
	CastSpellByID(47820)
	if SpellIsTargeting() then
		CameraOrSelectOrMoveStart()
		CameraOrSelectOrMoveStop()
	end
	return true
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Af:Drain Life</Name><Default>false</Default><SpellID>47857</SpellID><Actions></Actions><Lua>if getHp(&amp;quot;player&amp;quot;) &amp;lt;= 30
and CanAttack()
and pStay()
and rangeCheck(47857, &amp;quot;target&amp;quot;)
and UnitChannelInfo(&amp;quot;player&amp;quot;) == nil
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>All:Create Soulstone</Name><Default>false</Default><SpellID>47884</SpellID><Actions></Actions><Lua>if GetItemCount(36895) == 0
and pStay()
and inCombat() == nil
and (GetSpellInfo(47884) or GetItemCount(6265) &amp;gt;= 1)
and PQR_IsCastingSpell(47884) == false
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Player</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>All:Use Soulstone</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if UnitExists(&amp;quot;focus&amp;quot;)
and UnitInRange(&amp;quot;focus&amp;quot;)
and (not UnitIsDeadOrGhost(&amp;quot;focus&amp;quot;))
and UnitBuffID(&amp;quot;focus&amp;quot;, 47883) == nil
and inCombat() == nil
and GetItemCount(36895) &amp;gt;= 1
and not ItemCooldownRemains(36895)
and pStay()
then
	UseItemByName(36895,&amp;quot;focus&amp;quot;)
end</Lua><RecastDelay>0</RecastDelay><Target>Focus</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Dest:Shadowflame</Name><Default>false</Default><SpellID>61290</SpellID><Actions></Actions><Lua>if CheckInteractDistance(&amp;quot;target&amp;quot;, 3)
and CanAttack()
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>True</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>All:Create Healthstone</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>local hstones = { 36892, 36893, 36894 }
local Stones = nil

if Stones == nil then
    for b = 0, 4 do
    for s = 1, GetContainerNumSlots(b) do
    for i = 1, #hstones do
    if GetContainerItemID(b, s) == hstones[i] then
        Stones = true
    break
                end
            end
        end
    end
end

if Stones == nil
and pStay()
and inCombat() == nil then
        CastSpellByID(47878)
return true end</Lua><RecastDelay>0</RecastDelay><Target>Custom</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>All:Use Healthstone</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>local stones = { 36892, 36893, 36894 }

for i = 1, #stones do
   	 if getHp(&amp;quot;player&amp;quot;) &amp;lt;= 35
	and GetItemCount(stones[i]) &amp;gt;= 1 
	and not ItemCooldownRemains(stones[i]) then
       		UseItemByName(stones[i])
	end
end</Lua><RecastDelay>0</RecastDelay><Target>Custom</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Dem:Void - Sacrifice</Name><Default>false</Default><SpellID>47986</SpellID><Actions></Actions><Lua>if getHp(&amp;quot;player&amp;quot;) &amp;lt;= 65
and UnitExists(&amp;quot;pet&amp;quot;)
and (not UnitIsDeadOrGhost(&amp;quot;pet&amp;quot;))
and UnitInRange(&amp;quot;pet&amp;quot;)
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Pet</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Dem:Cancel Meta</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>local p=&amp;quot;player&amp;quot; for i=1,40 

do local _,_,_,_,_,_,_,u,_,_,s=UnitBuff(p,i) 
	if u==p and s==47241 
	and UnitAffectingCombat(&amp;quot;player&amp;quot;) == nil
	then
		CancelUnitBuff(p,i) 
		break 
	end 
end</Lua><RecastDelay>0</RecastDelay><Target>Player</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Dem:Shadow Ward</Name><Default>false</Default><SpellID>47891</SpellID><Actions></Actions><Lua>if SWard()
and not CooldownRemains(47891)
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Player</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Af:Curse of the Elements (All)</Name><Default>false</Default><SpellID>47865</SpellID><Actions></Actions><Lua>if CanAttack()
and not elem
and rangeCheck(47865, &amp;quot;target&amp;quot;)
and UnitChannelInfo(&amp;quot;player&amp;quot;) == nil
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>True</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>All:Detect Invisibility</Name><Default>false</Default><SpellID>132</SpellID><Actions></Actions><Lua>if not detectinvis
and not UnitIsDeadOrGhost(&amp;quot;player&amp;quot;)
and not IsMounted()
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Player</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Dem:Demonic Emp (All)</Name><Default>false</Default><SpellID>47193</SpellID><Actions></Actions><Lua>if CanAttack()
and UnitExists(&amp;quot;pet&amp;quot;)
and rangeCheck(47838, &amp;quot;target&amp;quot;)
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>-- Autotarget script --</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if UnitAffectingCombat(&amp;quot;player&amp;quot;)
and (not UnitExists(&amp;quot;target&amp;quot;)
or (UnitExists(&amp;quot;target&amp;quot;) and not UnitCanAttack(&amp;quot;player&amp;quot;, &amp;quot;target&amp;quot;))) then
    RunMacroText(&amp;quot;/targetenemy&amp;quot;)
    return true
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>-- Warlock Stuff --</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>-- Warlock Stuff --
-- Dots --
immolate = UnitDebuffID(&amp;quot;target&amp;quot;, 47811, &amp;quot;player&amp;quot;)
sflame = UnitDebuffID(&amp;quot;target&amp;quot;, 61290, &amp;quot;player&amp;quot;)
ua = UnitDebuffID(&amp;quot;target&amp;quot;, 47843, &amp;quot;player&amp;quot;)
corruption = UnitDebuffID(&amp;quot;target&amp;quot;, 47813, &amp;quot;player&amp;quot;)
ds = UnitDebuffID(&amp;quot;target&amp;quot;, 47855, &amp;quot;player&amp;quot;)
haunt = UnitDebuffID(&amp;quot;target&amp;quot;, 59164, &amp;quot;player&amp;quot;)
agony = UnitDebuffID(&amp;quot;target&amp;quot;, 47864, &amp;quot;player&amp;quot;)
elem = UnitDebuffID(&amp;quot;target&amp;quot;, 47865, &amp;quot;player&amp;quot;) 
doom = UnitDebuffID(&amp;quot;target&amp;quot;, 47867, &amp;quot;player&amp;quot;)
sbolt = UnitDebuffID(&amp;quot;target&amp;quot;, 17800)
seed = UnitDebuffID(&amp;quot;target&amp;quot;, 47836, &amp;quot;player&amp;quot;)
-- Procs --
nightfall = UnitBuffID(&amp;quot;player&amp;quot;, 17941)
backlash = UnitBuffID(&amp;quot;player&amp;quot;, 34936)
moltencore = UnitBuffID(&amp;quot;player&amp;quot;, 71165)
decimation = UnitBuffID(&amp;quot;player&amp;quot;, 63167) 
-- Buffs -- 
demonarmor = UnitBuffID(&amp;quot;player&amp;quot;, 47889)
felarmor = UnitBuffID(&amp;quot;player&amp;quot;, 47893)
detectinvis = UnitBuffID(&amp;quot;player&amp;quot;, 132)
lifetap = UnitBuffID(&amp;quot;player&amp;quot;, 63321)
meta = UnitBuffID(&amp;quot;player&amp;quot;, 47241)
soullink = UnitBuffID(&amp;quot;player&amp;quot;, 19028)
-- Other --
scorch = UnitDebuffID(&amp;quot;target&amp;quot;, 22959)
eplag = UnitDebuffID(&amp;quot;target&amp;quot;, 51735)
earmoon = UnitDebuffID(&amp;quot;target&amp;quot;, 60433)
CotE = UnitDebuffID(&amp;quot;target&amp;quot;, 47865) and true or false

if myTime and not UnitAffectingCombat(&amp;quot;player&amp;quot;) then
    myTime = nil
elseif CotE then
    myTime = GetTime()
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Dem:Soul Fire (MC)</Name><Default>false</Default><SpellID>47825</SpellID><Actions></Actions><Lua>if moltencore
and immolate
and IsBoss()
and CanAttack()
and rangeCheck(47825, &amp;quot;target&amp;quot;)
and pStay()
and PQR_IsCastingSpell(47825) == false
then return true end</Lua><RecastDelay>35</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Dem:Soul Fire (MC+DC)</Name><Default>false</Default><SpellID>47825</SpellID><Actions></Actions><Lua>if moltencore
and decimation
and immolate
and CanAttack()
and rangeCheck(47825, &amp;quot;target&amp;quot;)
and pStay()
and PQR_IsCastingSpell(47825) == false
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Af:Shadow Bolt (Corrupt)</Name><Default>false</Default><SpellID>47809</SpellID><Actions></Actions><Lua>local corrupt, _, _, _, _, _, corrtime = UnitDebuffID(&amp;quot;target&amp;quot;, 47813, &amp;quot;player&amp;quot;)

if ( corrupt == nil or ( corrupt and corrtime - GetTime() &amp;lt; 2.8 ) )
and pStay()
and rangeCheck(47809, &amp;quot;target&amp;quot;)
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Dem:Soul Fire (DC)</Name><Default>false</Default><SpellID>47825</SpellID><Actions></Actions><Lua>if decimation
and immolate
and CanAttack()
and rangeCheck(47825, &amp;quot;target&amp;quot;)
and pStay()
then return true end</Lua><RecastDelay>35</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>-- All:Potions --</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>hpot = { 33447, 43569, 40087, 41166, 40067 }

for i = 1, #hpot do
   	if getHp(&amp;quot;player&amp;quot;) &amp;lt;= 12
	and GetItemCount(hpot[i]) &amp;gt;= 1 
	and not ItemCooldownRemains(hpot[i]) then
       		UseItemByName(hpot[i])
	end
end

mpot = { 33448, 43570, 40087, 42545, 39671 }

for i = 1, #mpot do
   	if getMana(&amp;quot;player&amp;quot;) &amp;lt;= 20
	and IsBoss()
	and GetItemCount(mpot[i]) &amp;gt;= 1 
	and not ItemCooldownRemains(mpot[i]) then
       		UseItemByName(mpot[i])
	end
end</Lua><RecastDelay>0</RecastDelay><Target>Custom</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Dem:Shadow Bolt</Name><Default>false</Default><SpellID>47809</SpellID><Actions></Actions><Lua>if CanAttack()
and not moltencore
and not decimation
and pStay()
and rangeCheck(47809, &amp;quot;target&amp;quot;)
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Dem:Incinerate (No DC)</Name><Default>false</Default><SpellID>47838</SpellID><Actions></Actions><Lua>if moltencore
and immolate
and not decimation
and getHp(&amp;quot;target&amp;quot;) &amp;lt; 35
and CanAttack()
and usable(47838)
and pStay()
and rangeCheck(47838, &amp;quot;target&amp;quot;)
then return true end</Lua><RecastDelay>35</RecastDelay><Target>Target</Target><CancelChannel>True</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Dem:Curse of the Elements</Name><Default>false</Default><SpellID>47865</SpellID><Actions></Actions><Lua>if IsBoss()
and not (elem or CotE or eplag or earmoon)
and CanAttack()
and usable(47865)
and (not myTime or GetTime() - myTime &amp;gt; 5 )
and rangeCheck(47865, &amp;quot;target&amp;quot;)
and UnitChannelInfo(&amp;quot;player&amp;quot;) == nil
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>True</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability></WARLOCK>